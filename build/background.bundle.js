(()=>{"use strict";var t={864:(t,e,n)=>{n.d(e,{Iu:()=>f,TU:()=>p,cv:()=>l,lZ:()=>g});var o=n(275),r=n(359);const i=Boolean(globalThis.chrome?.scripting);function s(t){return"object"==typeof t?t:{tabId:t,frameId:0}}function a(t){return Array.isArray(t)?t:[t]}const c=/^function \w+\(\) {[\n\s]+\[native code][\n\s]+}/;async function l(t,e,...n){if(c.test(String(e)))throw new TypeError("Native functions need to be wrapped first, like `executeFunction(1, () => alert(1))`");const{frameId:r,tabId:a}=s(t);if(i){const[t]=await chrome.scripting.executeScript({target:{tabId:a,frameIds:[r]},func:e,args:n});return t?.result}const[l]=await o.A.tabs.executeScript(a,{code:`(${e.toString()})(...${JSON.stringify(n)})`,matchAboutBlank:!0,frameId:r});return l}function u(t){return void 0===t?void 0:[t]}async function m({tabId:t,frameId:e,files:n,allFrames:r,matchAboutBlank:s,runAt:a},{ignoreTargetErrors:c}={}){const l=Promise.all(n.map((async n=>("string"==typeof n&&(n={file:n}),i?chrome.scripting.insertCSS({target:{tabId:t,frameIds:u(e),allFrames:void 0===e?r:void 0},files:"file"in n?[n.file]:void 0,css:"code"in n?n.code:void 0}):o.A.tabs.insertCSS(t,{...n,matchAboutBlank:s,allFrames:r,frameId:e,runAt:a??"document_start"})))));c?await w(l):await l}async function d({tabId:t,frameId:e,files:n,allFrames:r,matchAboutBlank:s,runAt:a},{ignoreTargetErrors:c}={}){const l=n.map((t=>"string"==typeof t?{file:t}:t));if(i){!function(t){if(t.some((t=>"code"in t)))throw new Error("chrome.scripting does not support injecting strings of `code`")}(l);const n=chrome.scripting.executeScript({target:{tabId:t,frameIds:u(e),allFrames:void 0===e?r:void 0},files:l.map((({file:t})=>t))});return void(c?await w(n):await n)}const m=[];for(const n of l)"code"in n&&await m.at(-1),m.push(o.A.tabs.executeScript(t,{...n,matchAboutBlank:s,allFrames:r,frameId:e,runAt:a}));c?await w(Promise.all(m)):await Promise.all(m)}async function p(t,e){if(0===t.length)return[];const n=e?(0,r.pb)(...e):void 0;return(await o.A.tabs.query({url:t})).filter((t=>t.id&&t.url&&(!n||!n.test(t.url)))).map((t=>t.id))}async function f(t,e,n={}){const o=a(t);await Promise.all(o.map((async t=>async function({frameId:t,tabId:e,allFrames:n},o,r={}){const i=a(o).flatMap((o=>[m({tabId:e,frameId:t,allFrames:n,files:o.css??[],matchAboutBlank:o.matchAboutBlank??o.match_about_blank,runAt:o.runAt??o.run_at},r),d({tabId:e,frameId:t,allFrames:n,files:o.js??[],matchAboutBlank:o.matchAboutBlank??o.match_about_blank,runAt:o.runAt??o.run_at},r)]));await Promise.all(i)}(function(t){return"object"==typeof t?{...t,allFrames:!1}:{tabId:t,frameId:void 0,allFrames:!0}}(t),e,n))))}const h=["chrome.google.com/webstore","chromewebstore.google.com","accounts-static.cdn.mozilla.net","accounts.firefox.com","addons.cdn.mozilla.net","addons.mozilla.org","api.accounts.firefox.com","content.cdn.mozilla.net","discovery.addons.mozilla.org","input.mozilla.org","install.mozilla.org","oauth.accounts.firefox.com","profile.accounts.firefox.com","support.mozilla.org","sync.services.mozilla.com","testpilot.firefox.com"];function g(t){if(!t?.startsWith("http"))return!1;const e=t.replace(/^https?:\/\//,"");return h.every((t=>!e.startsWith(t)))}const b=/^No frame with id \d+ in tab \d+.$|^No tab with id: \d+.$|^The tab was closed.$|^The frame was removed.$/;async function w(t){try{await t}catch(t){if(!b.test(t?.message))throw t}}},203:(t,e,n)=>{n.d(e,{H8:()=>v,L0:()=>p,Rt:()=>f,ap:()=>d,ft:()=>m});let o=!0;function r(t){if(!t)return!1;try{const{pathname:e}=new URL(t,location.origin);return e===location.pathname}catch{return!1}}function i(t){return globalThis.chrome?.runtime?.getManifest?.()}function s(t){let e;return()=>(o&&void 0!==e||(e=t()),e)}const a=s((()=>["about:","http:","https:"].includes(location.protocol))),c=s((()=>"string"==typeof globalThis.chrome?.runtime?.id)),l=s((()=>location.protocol.endsWith("-extension:")&&!c())),u=s((()=>c()&&a())),m=()=>d()||p(),d=s((()=>{const t=i();return!!t&&(!!r(t.background_page??t.background?.page)||Boolean(t.background?.scripts&&r("/_generated_background_page.html")))})),p=s((()=>r(i()?.background?.service_worker))),f=s((()=>d()&&2===i()?.manifest_version&&!1!==i()?.background?.persistent)),h=s((()=>r(i()?.options_ui?.page??i()?.options_page))),g=s((()=>r(i()?.side_panel?.default_path))),b=s((()=>globalThis.outerHeight-globalThis.innerHeight==14||r(i()?.action?.default_popup??i()?.browser_action?.default_popup))),w=s((()=>c()&&Boolean(chrome.devtools)&&r(i()?.devtools_page))),y=s((()=>c()&&"document"in globalThis&&void 0===globalThis.chrome?.extension)),v=()=>globalThis.navigator?.userAgent.includes("Chrome"),x={contentScript:u,background:m,options:h,sidePanel:g,actionPopup:b,devTools:()=>Boolean(globalThis.chrome?.devtools),devToolsPage:w,offscreenDocument:y,extension:c,sandbox:l,web:a};Object.keys(x)},303:(t,e,n)=>{var o=n(979),r=n(424);function i(t,{warn:e=!0}={}){const n=new Map,o=(t,o)=>t?t.filter((t=>{const r=(i=o,JSON.stringify([i.all_frames,i.exclude_matches,i.run_at]));var i;return n.has(t)?(e&&r!==n.get(t)&&console.warn(`Duplicate file in the manifest content_scripts: ${t} \nMore info: https://github.com/fregante/webext-dynamic-content-scripts/issues/62`),!1):(n.set(t,r),!0)})):[];return t.flatMap((t=>{const{matches:e,...n}=t,r={...n,js:o(t.js,t),css:o(t.css,t)};return r.css.length+r.js.length===0?[]:r}))}var s=n(864);async function a(t,e){const n=e.flatMap((t=>t.matches??[]));return(0,s.Iu)(await(0,s.TU)(t,n),e,{ignoreTargetErrors:!0})}var c=n(275),l=n(359);const u="object"==typeof chrome&&"webNavigation"in chrome;async function m(t,e){const{js:n=[],css:o=[],matchAboutBlank:r,matches:i=[],excludeMatches:a,runAt:m}=t;let{allFrames:d}=t;if(u?d=!1:d&&console.warn("`allFrames: true` requires the `webNavigation` permission to work correctly: https://github.com/fregante/content-scripts-register-polyfill#permissions"),0===i.length)throw new Error("Type error for parameter contentScriptOptions (Error processing matches: Array requires at least 1 items; you have 0) for contentScripts.register.");await Promise.all(i.map((async t=>{if(!await c.A.permissions.contains({origins:[t]}))throw new Error("Permission denied to register a content script for "+t)})));const p=(0,l.pb)(...i),f=(0,l.pb)(...null!=a?a:[]),h=async(t,e,i=0)=>{p.test(t)&&!f.test(t)&&await async function(t){return c.A.permissions.contains({origins:[new URL(t).origin+"/*"]})}(t)&&await(0,s.Iu)({tabId:e,frameId:i},{css:o,js:n,matchAboutBlank:r,runAt:m},{ignoreTargetErrors:!0})},g=async(t,{status:e},{url:n})=>{"loading"===e&&n&&h(n,t)},b=async({tabId:t,frameId:e,url:n})=>{h(n,t,e)};u?chrome.webNavigation.onCommitted.addListener(b):chrome.tabs.onUpdated.addListener(g);const w={async unregister(){u?chrome.webNavigation.onCommitted.removeListener(b):chrome.tabs.onUpdated.removeListener(g)}};return"function"==typeof e&&e(w),w}const d=globalThis.chrome?.scripting?.registerContentScripts,p=globalThis.browser?.contentScripts?.register;async function f(t){if(d){const e="webext-dynamic-content-script-"+JSON.stringify(t);try{await d([{...t,id:e}])}catch(t){if(!t?.message.startsWith("Duplicate script ID"))throw t}return{unregister:async()=>chrome.scripting.unregisterContentScripts({ids:[e]})}}const e={...t,js:t.js?.map((t=>({file:t}))),css:t.css?.map((t=>({file:t})))};return p?p(e):m(e)}const h=new Map;function g(t){return new URL(t,location.origin).pathname}async function b(t,e){if(0!==t.length)for(const n of t)for(const t of e){const e=f({js:t.js?.map((t=>g(t))),css:t.css?.map((t=>g(t))),allFrames:t.all_frames,matches:[n],excludeMatches:t.matches,runAt:t.run_at});h.set(n,e)}}async function w({origins:t}){await v(t)}async function y({origins:t}){if(t?.length)for(const[e,n]of h)if(t.includes(e)){(await n).unregister()}}async function v(t){if(!t?.length)return;const e=function(){const{content_scripts:t,manifest_version:e}=chrome.runtime.getManifest();if(!t)throw new Error("webext-dynamic-content-scripts tried to register scripts on the new host permissions, but no content scripts were found in the manifest.");return i(t,{warn:2===e})}();await Promise.all([a(t,e),b(t,e)])}async function x(){const{origins:t}=await(0,o.iT)({strictOrigins:!1});await v(t)}chrome.permissions.onRemoved.addListener(y),chrome.permissions.onAdded.addListener(w),r.dB.addListener(x)},424:(t,e,n)=>{n.d(e,{dB:()=>m,LJ:()=>d});class o{#t;#e=new AbortController;get signal(){return this.#t||(this.#t=setInterval((()=>{r()&&(this.#e.abort(),clearInterval(this.#t))}),200)),this.#e.signal}get promise(){return new Promise((t=>{this.addListener(t)}))}addListener(t,{signal:e}={}){!this.signal.aborted||e?.aborted?this.signal.addEventListener("abort",t,{once:!0,signal:e}):setTimeout(t,0)}}new o;const r=()=>!chrome.runtime?.id;var i=n(203);const s="__webext-events__startup",a=new EventTarget;let c=!1,l=!1;const u=globalThis.browser?.storage??globalThis.chrome?.storage;const m=Object.freeze({addListener(t){c?console.warn("onExtensionStart.addListener() was called after the extension started. The callback will not be called."):(l=!0,a.addEventListener("extension-start",t))},removeListener(t){a.removeEventListener("extension-start",t)}});async function d(t,{filter:e,signal:n}={}){if(!n?.aborted)return new Promise((o=>{const r=(...n)=>{e&&!e(...n)||(o(n),t.removeListener(r))};t.addListener(r),n?.addEventListener("abort",(()=>{o(),t.removeListener(r)}))}))}setTimeout((async function(){if(c=!0,!l)return;if((0,i.Rt)())return void a.dispatchEvent(new Event("extension-start"));if(!u?.session)return(0,i.H8)()&&2===chrome.runtime.getManifest().manifest_version?console.warn("onExtensionStart is unable to determine whether it’s being run for the first time on MV2 Event Pages in Chrome. It will run the listeners anyway."):console.warn("onExtensionStart is unable to determine whether it’s being run for the first time without the `storage` permission. It will run the listeners anyway"),void a.dispatchEvent(new Event("extension-start"));const t=await u.session.get(s);s in t||(await u.session.set({[s]:!0}),a.dispatchEvent(new Event("extension-start")))}),2)},359:(t,e,n)=>{n.d(e,{pQ:()=>l,pb:()=>c});const o=/^(https?|wss?|file|ftp|\*):\/\/(\*|\*\.[^*/]+|[^*/]+)\/.*$|^file:\/\/\/.*$|^resource:\/\/(\*|\*\.[^*/]+|[^*/]+)\/.*$|^about:/,r=globalThis.navigator?.userAgent.includes("Firefox/"),i=r?/^(https?|wss?):[/][/][^/]+([/].*)?$/:/^https?:[/][/][^/]+([/].*)?$/,s=/^(https?|file|ftp):[/]+/;function a(t){if(!function(t){return"<all_urls>"===t||o.test(t)}(t))throw new Error(t+" is an invalid pattern. See https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/Match_patterns for more info.")}function c(...t){return 0===t.length?/$./:t.includes("<all_urls>")?s:t.includes("*://*/*")?i:new RegExp(t.map((t=>function(t){a(t);let[,e,n="",o]=t.split(/(^[^:]+:[/][/])([^/]+)?/);return e=e.replace("*",r?"(https?|wss?)":"https?").replaceAll(/[/]/g,"[/]"),"*"===n&&(n="[^/]+"),n&&=n.replace(/^[*][.]/,"([^/]+.)*").replaceAll(/[.]/g,"[.]").replace(/[*]$/,"[^.]+"),o=o.replaceAll(/[/]/g,"[/]").replaceAll(/[.]/g,"[.]").replaceAll(/[*]/g,".*"),"^"+e+n+"("+o+")?$"}(t))).join("|"))}function l(t){return t.includes("<all_urls>")?["<all_urls>"]:t.includes("*://*/*")?["*://*/*"]:t.filter((e=>!t.some((t=>e!==t&&c(t).test(e)))))}},163:(t,e,n)=>{n.r(e),n.d(e,{default:()=>v});var o=n(275),r=n(203),i=n(979),s=n(864);async function a(t){const{frameId:e,tabId:n}=function(t){return"object"==typeof t?t:{tabId:t,frameId:0}}(t);try{if(0===e&&"tabs"in globalThis.chrome){const t=await o.A.tabs.get(n);if(t.url)return t.url}return await(0,s.cv)(t,(()=>location.href))}catch{return}}var c=n(424);function l(){const t=document.querySelector("button");t.addEventListener("click",(t=>{window.close()})),window.addEventListener("blur",(t=>{window.close()})),window.resizeBy(0,document.body.scrollHeight-window.innerHeight),window.moveTo((screen.width-window.outerWidth)/2,(screen.height-window.outerHeight)/2),t.focus()}function u(t=""){return`\n\t\t<!doctype html>\n\t\t<meta charset="utf-8" />\n\t\t<title>${chrome.runtime.getManifest().name}</title>\n\t\t<style>\n\t/*! https://npm.im/webext-base-css */\n\n\t/* Chrome only: -webkit-hyphens */\n\t/* Safari only: _::-webkit-full-page-media */\n\n\t/* webpackIgnore: true */\n\t@import url('chrome://global/skin/in-content/common.css') (min--moz-device-pixel-ratio:0); /* Firefox-only */\n\n\t:root {\n\t\t--background-color-for-chrome: #292a2d;\n\t\tmax-width: 700px;\n\t\tmargin: auto;\n\t}\n\n\tbody {\n\t\t--body-margin-h: 8px;\n\t\tmargin-left: var(--body-margin-h);\n\t\tmargin-right: var(--body-margin-h);\n\t}\n\n\t/* Selector matches Firefox’ */\n\tinput[type='number'],\n\tinput[type='password'],\n\tinput[type='search'],\n\tinput[type='text'],\n\tinput[type='url'],\n\tinput:not([type]),\n\ttextarea {\n\t\tdisplay: block;\n\t\tbox-sizing: border-box;\n\t\tmargin-left: 0;\n\t\twidth: 100%;\n\t\tresize: vertical;\n\t\t-moz-tab-size: 4 !important;\n\t\ttab-size: 4 !important;\n\t}\n\n\tinput[type='checkbox'] {\n\t\tvertical-align: -0.15em;\n\t}\n\n\t@supports (not (-webkit-hyphens:none)) and (not (-moz-appearance:none)) and (list-style-type:'*') {\n\t\ttextarea:focus {\n\t\t\t/* Inexplicably missing from Chrome’s input style https://github.com/chromium/chromium/blob/6bea0557fe/extensions/renderer/resources/extension.css#L287 */\n\t\t\tborder-color: #4d90fe;\n\t\t\ttransition: border-color 200ms;\n\t\t}\n\t}\n\n\thr {\n\t\tmargin-right: calc(-1 * var(--body-margin-h));\n\t\tmargin-left: calc(-1 * var(--body-margin-h));\n\t\tborder: none;\n\t\tborder-bottom: 1px solid #aaa4;\n\t}\n\n\timg {\n\t\tvertical-align: middle;\n\t}\n\n\t_::-webkit-full-page-media,\n\t_:future,\n\t:root {\n\t\tfont-family: -apple-system, BlinkMacSystemFont, sans-serif, 'Apple Color Emoji';\n\t}\n\n\t_::-webkit-full-page-media,\n\t_:future,\n\tinput[type='number'],\n\tinput[type='password'],\n\tinput[type='search'],\n\tinput[type='text'],\n\tinput[type='url'],\n\tinput:not([type]),\n\ttextarea {\n\t\tborder: solid 1px #888;\n\t\tpadding: 0.4em;\n\t\tfont: inherit;\n\t\t-webkit-appearance: none;\n\t}\n\n\t@media (prefers-color-scheme: dark) {\n\t\t:root {\n\t\t\tcolor-scheme: dark;\n\t\t\tbackground-color: var(--background-color-for-chrome);\n\t\t}\n\n\t\tbody,\n\t\th3 { /* Chrome #3 */\n\t\t\tcolor: #e8eaed;\n\t\t}\n\n\t\ta {\n\t\t\tcolor: var(--link-color, #8ab4f8);\n\t\t}\n\n\t\ta:active {\n\t\t\tcolor: var(--link-color-active, #b6d3f9);\n\t\t}\n\n\t\tinput[type='number'],\n\t\tinput[type='password'],\n\t\tinput[type='search'],\n\t\tinput[type='text'],\n\t\tinput[type='url'],\n\t\tinput:not([type]),\n\t\ttextarea {\n\t\t\tcolor: inherit;\n\t\t\tbackground-color: transparent;\n\t\t}\n\t}\n\n\t/* End webext-base-css */\n\n\tbody {\n\t\tbox-sizing: border-box;\n\t\tmin-height: 100vh;\n\t\tmargin: 0;\n\t\tpadding: 1em;\n\t\tjustify-content: center;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tfont-size: 14px;\n\t\tline-height: 1.5;\n\t\tfont-family: system, system-ui, sans-serif;\n\t}\n\n\tbutton {\n\t\tmargin-top: 1em;\n\t\tmargin-left: auto;\n\t}\n</style>\n\t\t<script defer src="alert.js"><\/script>\n\t\t<body>\n\t\t\t<main>${t}</main>\n\t\t\t<button>Ok</button>\n\t\t</body>\n\t\t<script>(${l.toString()})()<\/script>\n\t`}async function m(t){try{return await chrome.windows.create({type:"popup",focused:!0,url:t,height:150,width:420})}catch{}}const d=(0,r.L0)()||!(0,r.H8)()&&(0,r.ap)()?async function(t){const e=await m("data:text/html,"+encodeURIComponent(u(t)))??await m(function(t){const e=new URL("https://webext-alert.vercel.app/");return e.searchParams.set("message",t),e.searchParams.set("title",chrome.runtime.getManifest().name),e.href}(t));e?.id?await async function(t){await(0,c.LJ)(chrome.windows.onRemoved,{filter:e=>e===t})}(e.id):console.log(t)}:globalThis.alert??console.log,p="webext-permission-toggle:add-permission";let f;const h=(0,r.H8)()&&globalThis.chrome?.runtime?.getManifest().manifest_version<3?o.A:globalThis.chrome;function g({checked:t,enabled:e}){chrome.contextMenus.update(p,{checked:t,enabled:e})}async function b(t){if(t)if((0,s.lZ)(t)){const{origin:e}=new URL(t),n=(0,i.mr)(t),o=await async function(t){return h.permissions.contains({origins:[t+"/*"]})}(e);g({enabled:!n||!o,checked:o})}else g({enabled:!1,checked:!1});else g({enabled:!0,checked:!1})}async function w({tabId:t}){b(await a(t)??"")}async function y({checked:t,menuItemId:e},n){if(e!==p)return;let o;try{!function(t){if(!t?.id)throw new Error("The browser didn't supply any information about the active tab.")}(n),o=n.url||await a(n.id),function(t){if(!t)throw new Error("The browser didn't supply the current page's URL.")}(o),function(t){if(!(0,s.lZ)(t))throw new Error(chrome.runtime.getManifest().name+" can't be enabled on this page.")}(o);const e=await async function(t,e){const n={origins:[new URL(t).origin+"/*"]};return await h.permissions[e?"request":"remove"](n),h.permissions.contains(n)}(o,t);e===t||g({checked:e}),e&&f.reloadOnSuccess&&(0,s.cv)(n.id,(t=>{confirm(t)&&location.reload()}),f.reloadOnSuccess)}catch(t){if(setTimeout(b,500,o),n?.id)try{await(0,s.cv)(n.id,(t=>{window.alert(t)}),String(t))}catch{d(String(t))}throw t}}function v(t){if(!(0,r.ft)())throw new Error("webext-permission-toggle can only be called from a background page");if(f)throw new Error("webext-permission-toggle can only be initialized once");const e=chrome.runtime.getManifest();if(!chrome.contextMenus){if(!e.permissions?.includes("contextMenus")&&!/Android.+Firefox\//.test(navigator.userAgent))throw new Error("webext-permission-toggle requires the `contextMenus` permission");return void console.warn("chrome.contextMenus is not available")}f={title:`Enable ${e.name} on this domain`,reloadOnSuccess:!1,...t},!0===f.reloadOnSuccess&&(f.reloadOnSuccess=`Do you want to reload this page to apply ${e.name}?`);const n=[...e.optional_permissions??[],...e.optional_host_permissions??[]].filter((t=>"<all_urls>"===t||t.includes("*")));if(0===n.length)throw new TypeError("webext-permission-toggle requires some wildcard hosts to be specified in `optional_permissions` (MV2) or `optional_host_permissions` (MV3)");chrome.contextMenus.remove(p,(()=>chrome.runtime.lastError));const o=2===e.manifest_version?["page_action","browser_action"]:["action"];chrome.contextMenus.create({id:p,type:"checkbox",checked:!1,title:f.title,contexts:o,documentUrlPatterns:n}),chrome.contextMenus.onClicked.addListener(y),chrome.tabs.onActivated.addListener(w),chrome.tabs.onUpdated.addListener((async(t,{status:e},{url:n,active:o})=>{o&&"complete"===e&&b(n??await a(t)??"")}))}},979:(t,e,n)=>{n.d(e,{iT:()=>a,mr:()=>c});var o=n(359);function r(t=chrome.runtime.getManifest()){const e={origins:[],permissions:[]},n=new Set([...t.permissions??[],...t.host_permissions??[],...(t.content_scripts??[]).flatMap((t=>t.matches??[]))]);t.devtools_page&&!t.optional_permissions?.includes("devtools")&&n.add("devtools");for(const t of n)t.includes("://")||"<all_urls>"===t?e.origins.push(t):e.permissions.push(t);return function({origins:t,permissions:e}){return{origins:t?(0,o.pQ)(t):[],permissions:e?[...e]:[]}}(e)}const i=/:[/][/][*.]*([^/]+)/;function s(t){return t.split(i)[1]}async function a(t){return new Promise((e=>{chrome.permissions.getAll((n=>{e(function(t,{manifest:e,strictOrigins:n=!0}={}){const o=r(e),i={origins:[],permissions:[]};for(const e of t.origins??[])if(!o.origins.includes(e)){if(!n){const t=s(e);if(o.origins.some((e=>s(e)===t)))continue}i.origins.push(e)}for(const e of t.permissions??[])o.permissions.includes(e)||i.permissions.push(e);return i}(n,t))}))}))}function c(t,e=chrome.runtime.getManifest()){const n=r(e);return(0,o.pb)(...n.origins).test(t)}},275:(t,e,n)=>{n.d(e,{A:()=>r});const o=globalThis.chrome&&new function t(e){return new Proxy(e,{get(e,n){if(e[n])return"function"!=typeof e[n]?new t(e[n]):(...t)=>new Promise(((o,r)=>{e[n](...t,(t=>{chrome.runtime.lastError?r(new Error(chrome.runtime.lastError.message)):o(t)}))}))}})}(globalThis.chrome),r=o}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={exports:{}};return t[o](i,i.exports,n),i.exports}n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};(()=>{n(303);var t=n(163);chrome.runtime.onInstalled.addListener((function(){chrome.contextMenus.create({id:"change-icon-color",title:"Change icon colors",contexts:["action"]}),chrome.contextMenus.create({id:"toggle-dark-mode",title:"Toggle dark mode",contexts:["action"]}),(0,t.default)()}));var e=function(t){return function(e){var n=e[0];chrome.storage.sync.get(t,(function(e){var o;chrome.storage.sync.set(((o={})[t]=!e[t],o),(function(){void 0!==n.id&&chrome.tabs.reload(n.id)}))}))}};chrome.contextMenus.onClicked.addListener((function(t){"change-icon-color"===t.menuItemId?chrome.tabs.query({active:!0,currentWindow:!0},e("colorsDisabled")):"toggle-dark-mode"===t.menuItemId&&chrome.tabs.query({active:!0,currentWindow:!0},e("darkMode"))})),chrome.tabs.onUpdated.addListener((function(t,e,n){var o;"complete"===(null==e?void 0:e.status)&&("github.com"===new URL(null!==(o=null==n?void 0:n.url)&&void 0!==o?o:"").hostname&&chrome.tabs.sendMessage(t,{message:"file-icon-extension-page-update"}))}))})()})();